<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Prompts ‚Äî Workshop IA TRE/RN</title>
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/components.css">
  <link rel="stylesheet" href="./css/responsive.css">
  <style>
    /* Estilos originais preservados integralmente */
    .content-section { padding: var(--space-3xl) 0; border-bottom: 1px solid var(--border-light); }
    .content-section:last-child { border-bottom: none; }
    .content-section h2 { margin-bottom: var(--space-lg); display: flex; align-items: center; gap: var(--space-md); }
    .content-section h2 .section-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; flex-shrink: 0; }
    .content-section h3 { margin-top: var(--space-xl); margin-bottom: var(--space-md); color: var(--dourado); font-size: 1.4rem; }
    .content-body p { margin-bottom: var(--space-md); font-size: 1.08rem; line-height: 1.9; }
    .content-body li { color: var(--text-secondary); margin-bottom: var(--space-sm); font-size: 1.05rem; line-height: 1.85; }
    .content-body li strong { color: var(--text); }

    .builder-container {
      background: var(--bg-elevated); border: 1px solid var(--border); border-radius: var(--radius-xl);
      padding: var(--space-xl); backdrop-filter: blur(12px); margin: var(--space-xl) 0;
    }
    .builder-field { margin-bottom: var(--space-lg); }
    .builder-field label {
      display: flex; align-items: center; gap: var(--space-sm);
      font-size: 0.95rem; font-weight: 700; color: var(--dourado);
      margin-bottom: var(--space-sm); text-transform: uppercase; letter-spacing: 0.05em;
    }
    .builder-field label .field-letter {
      min-width: 32px; height: 28px; border-radius: 6px;
      display: flex; align-items: center; justify-content: center;
      font-family: var(--font-display); font-size: 0.78rem; font-weight: 800;
      background: var(--dourado-dim); color: var(--dourado); border: 1px solid rgba(200,164,92,0.3);
      padding: 0 6px;
    }
    .builder-field .field-hint {
      font-size: 0.88rem; color: var(--text-muted); font-weight: 400;
      text-transform: none; letter-spacing: 0; margin-left: auto;
    }
    .builder-field textarea, .builder-field input[type="text"] {
      width: 100%; padding: 14px 18px;
      border: 1px solid rgba(200,164,92,0.15); border-radius: var(--radius-md);
      background: rgba(10,22,40,0.4); color: var(--text);
      font-family: var(--font-body); font-size: 1.05rem; resize: vertical; outline: none;
      transition: border-color var(--transition-base);
    }
    .builder-field textarea:focus, .builder-field input[type="text"]:focus {
      border-color: var(--dourado); box-shadow: 0 0 0 3px var(--dourado-dim);
    }
    .builder-field textarea::placeholder, .builder-field input[type="text"]::placeholder { color: var(--text-muted); }

    .builder-actions {
      display: flex; flex-wrap: wrap; gap: var(--space-sm); margin-top: var(--space-lg);
    }

    .builder-output-area {
      margin-top: var(--space-xl);
      border-top: 1px solid var(--border-light);
      padding-top: var(--space-xl);
    }
    .builder-output-label {
      font-size: 0.92rem; font-weight: 700; color: var(--dourado);
      text-transform: uppercase; letter-spacing: 0.05em;
      margin-bottom: var(--space-md);
      display: flex; align-items: center; gap: var(--space-sm);
    }
    .builder-output {
      background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-md);
      padding: var(--space-xl); font-size: 1.02rem; line-height: 1.85;
      color: var(--text-secondary); white-space: pre-wrap; min-height: 160px;
      position: relative;
    }
    .builder-output .tag-marker {
      font-weight: 800; display: inline;
    }
    .builder-output .tag-r { color: #E85C5C; }
    .builder-output .tag-c { color: #6BA3E8; }
    .builder-output .tag-t { color: var(--verde); }
    .builder-output .tag-s { color: var(--roxo); }
    .builder-output .tag-e { color: var(--dourado); }

    .output-actions {
      display: flex; gap: var(--space-sm); margin-top: var(--space-md);
    }

    .tips-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--space-md); margin: var(--space-xl) 0;
    }
    .tip-card {
      background: var(--bg-elevated); border: 1px solid var(--border);
      border-radius: var(--radius-lg); padding: var(--space-lg);
      backdrop-filter: blur(12px);
    }
    .tip-card .tip-icon { font-size: 1.4rem; margin-bottom: var(--space-sm); }
    .tip-card h4 { font-family: var(--font-body); font-size: 1.05rem; font-weight: 700; color: var(--text); margin-bottom: var(--space-sm); }
    .tip-card p { font-size: 0.95rem; }
  </style>
</head>
<body>

  <div id="header-placeholder"></div>

  <main class="page-content">
    <div class="container">

      <section class="section" style="padding-bottom: 0;">
        <div class="section-header">
          <div class="eyebrow"><span class="dot"></span> M√≥dulo 05</div>
          <h1>Gerador de Prompts RCTS+E</h1>
          <p>Monte prompts profissionais de forma guiada com alta variabilidade de expans√£o textual.</p>
        </div>
      </section>

      <section class="content-section">
        <h2><span class="section-icon" style="background: var(--dourado-dim);">‚ö°</span> Monte seu Prompt</h2>
        <div class="content-body">
          <p>Utilize as marca√ß√µes <strong>[ROLE]</strong>, <strong>[CONTEXT]</strong>, <strong>[TASK]</strong>, <strong>[STYLE]</strong> e <strong>[EXAMPLE]</strong> de forma automatizada e inteligente.</p>

          <div class="builder-container">

            <div class="builder-field">
              <label><span class="field-letter">ROLE</span> Papel</label>
              <input type="text" id="builder-r" placeholder="Ex: analista judici√°rio do TRE-RN especializado em licita√ß√µes">
            </div>

            <div class="builder-field">
              <label><span class="field-letter">CONTEXT</span> Contexto</label>
              <textarea id="builder-c" rows="3" placeholder="Ex: O TRE-RN est√° preparando um preg√£o eletr√¥nico para aquisi√ß√£o de equipamentos de TI..."></textarea>
            </div>

            <div class="builder-field">
              <label><span class="field-letter">TASK</span> Tarefa</label>
              <textarea id="builder-t" rows="3" placeholder="Ex: Elabore o Termo de Refer√™ncia com especifica√ß√µes t√©cnicas..."></textarea>
            </div>

            <div class="builder-field">
              <label><span class="field-letter">STYLE</span> Estilo</label>
              <input type="text" id="builder-s" placeholder="Ex: linguagem formal, formato de documento oficial">
            </div>

            <div class="builder-field">
              <label><span class="field-letter">EXAMPLE</span> Exemplo</label>
              <textarea id="builder-e" rows="2" placeholder="Ex: Siga o padr√£o do √∫ltimo Termo de Refer√™ncia..."></textarea>
            </div>

            <div class="builder-actions">
              <button class="btn btn-primary" onclick="generatePrompt()">‚ö° Gerar Prompt</button>
              <button class="btn btn-secondary" onclick="clearBuilder()">Limpar campos</button>
            </div>

            <div class="builder-output-area">
              <div class="builder-output-label">üìù Prompt gerado</div>
              <div class="builder-output" id="builder-output">Aguardando preenchimento...</div>
              <div class="output-actions">
                <button class="btn btn-sm btn-secondary" onclick="copyPrompt()">üìã Copiar prompt</button>
              </div>
            </div>

          </div>
        </div>
      </section>

      <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-xl) 0; border-top: 1px solid var(--border-light); margin-top: var(--space-xl);">
        <a href="./engenharia-de-prompts.html" class="btn btn-secondary btn-sm">‚Üê Eng. de Prompts</a>
        <a href="./oficinas.html" class="btn btn-primary btn-sm">Oficinas ‚Üí</a>
      </div>
    </div>
  </main>

  <script src="./js/auth.js"></script>
  <script src="./js/utils.js"></script>
  <script src="./js/main.js"></script>

  <script>
    function getRandom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function generatePrompt() {
      const r = document.getElementById('builder-r').value.trim();
      const c = document.getElementById('builder-c').value.trim();
      const t = document.getElementById('builder-t').value.trim();
      const s = document.getElementById('builder-s').value.trim();
      const e = document.getElementById('builder-e').value.trim();

      if (!t) {
        if(window.Utils) Utils.showToast('O campo Tarefa (TASK) √© obrigat√≥rio.', 'warning');
        else alert('Preencha a tarefa!');
        return;
      }

      // 10 VARIA√á√ïES PARA ROLE
      const rolePhrases = [
        `Atue como um(a) ${r}, demonstrando alto n√≠vel de especializa√ß√£o t√©cnica e compromisso com os valores do TRE-RN.`,
        `Assuma o papel de ${r}. Sua abordagem deve ser anal√≠tica, detalhista e pautada pelas melhores pr√°ticas da administra√ß√£o p√∫blica.`,
        `Voc√™ deve se comportar como um(a) ${r} experiente, priorizando a precis√£o t√©cnica e a clareza institucional em todas as etapas.`,
        `Como ${r}, utilize sua expertise para formular uma resposta estrat√©gica que considere tanto a conformidade legal quanto a efici√™ncia operacional.`,
        `Atue sob a perspectiva de um(a) ${r}, garantindo que o conte√∫do produzido seja profissional, √©tico e tecnicamente irrepreens√≠vel.`,
        `Sua identidade para esta tarefa √© de ${r}. Mantenha um tom consultivo e foque na excel√™ncia dos resultados entregues.`,
        `Imagine que voc√™ √© um(a) ${r} com anos de viv√™ncia no Poder Judici√°rio. Sua tarefa deve refletir essa maturidade profissional.`,
        `Assuma a persona de ${r}. Seu objetivo √© fornecer uma solu√ß√£o que seja ao mesmo tempo inovadora e estritamente vinculada √†s normas vigentes.`,
        `No papel de ${r}, processe as informa√ß√µes com rigor acad√™mico e aplicabilidade pr√°tica imediata dentro da realidade do TRE-RN.`,
        `Voc√™ √© ${r}. Aplique um olhar cr√≠tico e especializado para assegurar que o produto final atenda aos mais altos padr√µes de qualidade do Tribunal.`
      ];

      // 10 VARIA√á√ïES PARA CONTEXT
      const contextPhrases = [
        `Leve em considera√ß√£o o seguinte cen√°rio: ${c}. √â fundamental que sua resposta esteja ancorada nestes fatos para garantir relev√¢ncia.`,
        `Este pedido surge no contexto de: ${c}. Entenda as nuances descritas para que a produ√ß√£o seja perfeitamente adequada √† realidade.`,
        `O panorama atual √©: ${c}. Sua an√°lise deve refletir uma compreens√£o profunda dessas circunst√¢ncias e seus impactos.`,
        `Considere que estamos lidando com: ${c}. Essa base factual √© o que deve guiar a l√≥gica e a profundidade de sua resposta.`,
        `Contextualize sua atua√ß√£o dentro deste cen√°rio: ${c}. A resposta deve mitigar riscos e aproveitar as oportunidades identificadas aqui.`,
        `A fundamenta√ß√£o deste trabalho baseia-se em: ${c}. Utilize estas informa√ß√µes como o alicerce principal de sua constru√ß√£o textual.`,
        `Entenda as limita√ß√µes e os objetivos presentes em: ${c}. Cada detalhe deste contexto √© crucial para o sucesso da tarefa.`,
        `O ambiente operacional √© definido por: ${c}. Garanta que o resultado seja harm√¥nico com esta situa√ß√£o espec√≠fica.`,
        `Considere o hist√≥rico e as necessidades de: ${c}. Sua resposta deve demonstrar sensibilidade a estes pontos de fundo.`,
        `O cen√°rio que justifica esta solicita√ß√£o √©: ${c}. Use este pano de fundo para calibrar o n√≠vel de detalhamento e o foco da sua entrega.`
      ];

      // 10 VARIA√á√ïES PARA TASK
      const taskPhrases = [
        `Sua miss√£o agora √©: ${t}. O resultado deve ser abrangente, logicamente estruturado e pronto para aplica√ß√£o institucional.`,
        `Execute com precis√£o a seguinte atividade: ${t}. Dedique aten√ß√£o especial √† clareza de pensamento e ao rigor dos dados apresentados.`,
        `Solicito que voc√™ desenvolva o seguinte: ${t}. Certifique-se de que nenhum ponto relevante seja omitido e que a estrutura seja impec√°vel.`,
        `O objetivo central desta intera√ß√£o √©: ${t}. O produto final deve ser de alt√≠ssimo n√≠vel e totalmente funcional para o TRE-RN.`,
        `Providencie a execu√ß√£o de: ${t}. Organize a resposta de forma que os pontos-chave sejam facilmente identific√°veis e tecnicamente s√≥lidos.`,
        `Trabalhe na seguinte demanda: ${t}. Sua entrega deve ser exaustiva no conte√∫do, mas objetiva na forma, evitando redund√¢ncias desnecess√°rias.`,
        `Construa uma solu√ß√£o detalhada para: ${t}. Priorize a corre√ß√£o gramatical, a coes√£o textual e a profundidade t√©cnica.`,
        `Sua tarefa consiste em: ${t}. Transforme os requisitos em um documento ou resposta de valor estrat√©gico para o Tribunal.`,
        `Pe√ßo que realize: ${t}. O foco deve ser a entrega de um material que n√£o demande retrabalho e que seja autoexplicativo.`,
        `Desenvolva com maestria a tarefa de: ${t}. Garanta que cada par√°grafo contribua para a resolu√ß√£o direta do problema apresentado.`
      ];

      // 10 VARIA√á√ïES PARA STYLE
      const stylePhrases = [
        `Adote como estilo de comunica√ß√£o: ${s}. O tom deve ser profissional e a formata√ß√£o deve facilitar a escaneabilidade do texto.`,
        `Siga estas diretrizes de estilo: ${s}. Mantenha a sobriedade necess√°ria ao Poder Judici√°rio, utilizando um vocabul√°rio preciso.`,
        `O formato e o tom desejados s√£o: ${s}. A apresenta√ß√£o visual do conte√∫do deve ser t√£o organizada quanto o pr√≥prio texto.`,
        `Apresente a resposta em: ${s}. Garanta que a linguagem seja acess√≠vel, por√©m formal, respeitando a identidade do TRE-RN.`,
        `Utilize a seguinte configura√ß√£o de estilo: ${s}. Priorize a concis√£o onde for poss√≠vel e o detalhamento onde for indispens√°vel.`,
        `A produ√ß√£o deve seguir este padr√£o: ${s}. Assegure consist√™ncia terminol√≥gica e um fluxo de leitura fluido e l√≥gico.`,
        `Quanto √† forma e ao tom, aplique: ${s}. O objetivo √© um material que transmita autoridade e seguran√ßa t√©cnica.`,
        `O conte√∫do deve ser moldado conforme: ${s}. Evite ambiguidades e utilize uma estrutura que destaque as conclus√µes principais.`,
        `Mantenha o estilo focado em: ${s}. A linguagem deve ser direta ao ponto, mas mantendo a polidez e a eleg√¢ncia administrativa.`,
        `O estilo deve ser estritamente: ${s}. Siga as normas de reda√ß√£o oficial e garanta que o formato seja compat√≠vel com o solicitado.`
      ];

      // 10 VARIA√á√ïES PARA EXAMPLE
      const examplePhrases = [
        `Para sua orienta√ß√£o, utilize este modelo como refer√™ncia: ${e}. Tente espelhar a estrutura e o n√≠vel de formalidade demonstrados.`,
        `Baseie-se no seguinte exemplo para calibrar sua entrega: ${e}. O resultado final deve guardar semelhan√ßa t√©cnica com este referencial.`,
        `Considere este padr√£o como guia: ${e}. Siga a l√≥gica de organiza√ß√£o e o vocabul√°rio empregados neste caso de sucesso.`,
        `Utilize o seguinte referencial como par√¢metro de qualidade: ${e}. O objetivo √© replicar o sucesso e a estrutura deste exemplo.`,
        `Como ponto de partida estrutural, veja este exemplo: ${e}. Adapte o conte√∫do √†s nossas necessidades atuais, mantendo este n√≠vel de detalhe.`,
        `Seu trabalho deve harmonizar-se com este exemplo: ${e}. Observe como as informa√ß√µes foram distribu√≠das e tente seguir caminho similar.`,
        `Use a seguinte refer√™ncia para nortear sua produ√ß√£o: ${e}. Este √© o padr√£o de excel√™ncia que esperamos para esta tarefa.`,
        `Siga a inspira√ß√£o e o formato presentes em: ${e}. O exemplo serve para balizar o que consideramos uma resposta completa e ideal.`,
        `Tome como base este caso real/modelo: ${e}. Ele exemplifica a profundidade e a clareza que o produto final deve apresentar.`,
        `Mantenha a consist√™ncia com este padr√£o pr√©vio: ${e}. Isso garante que a identidade institucional seja preservada no novo documento.`
      ];

      // Montagem do prompt com escolhas aleat√≥rias
      let prompt = '';
      if (r) prompt += `[ROLE] ${getRandom(rolePhrases)}\n\n`;
      if (c) prompt += `[CONTEXT] ${getRandom(contextPhrases)}\n\n`;
      prompt += `[TASK] ${getRandom(taskPhrases)}`;
      if (s) prompt += `\n\n[STYLE] ${getRandom(stylePhrases)}`;
      if (e) prompt += `\n\n[EXAMPLE] ${getRandom(examplePhrases)}`;

      const outputEl = document.getElementById('builder-output');
      outputEl.innerHTML = prompt
        .replace(/\[ROLE\]/g, '<span class="tag-marker tag-r">[ROLE]</span>')
        .replace(/\[CONTEXT\]/g, '<span class="tag-marker tag-c">[CONTEXT]</span>')
        .replace(/\[TASK\]/g, '<span class="tag-marker tag-t">[TASK]</span>')
        .replace(/\[STYLE\]/g, '<span class="tag-marker tag-s">[STYLE]</span>')
        .replace(/\[EXAMPLE\]/g, '<span class="tag-marker tag-e">[EXAMPLE]</span>');

      outputEl.dataset.plaintext = prompt;
      if(window.Utils) Utils.showToast('Prompt exclusivo gerado com sucesso!', 'success');
    }

    function copyPrompt() {
      const outputEl = document.getElementById('builder-output');
      const text = outputEl.dataset.plaintext;
      if (!text) {
        if(window.Utils) Utils.showToast('Gere um prompt primeiro!', 'warning');
        return;
      }
      navigator.clipboard.writeText(text).then(() => {
        if(window.Utils) Utils.showToast('Copiado para a √°rea de transfer√™ncia!', 'success');
      });
    }

    function clearBuilder() {
      ['builder-r', 'builder-c', 'builder-t', 'builder-s', 'builder-e'].forEach(id => {
        document.getElementById(id).value = '';
      });
      const outputEl = document.getElementById('builder-output');
      outputEl.innerHTML = 'Aguardando preenchimento...';
      delete outputEl.dataset.plaintext;
    }
  </script>
</body>
</html>